<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atomic Tasker</title>
    <link rel="stylesheet" href="style.css">
    <!-- Link to Inter font for modern, clean typography -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <header class="header">
            <div class="header-top">
                <div class="logo-section">
                    <img src="assets/specificity-svgrepo-com-64.png" alt="Atomic Tasker Logo" class="logo-image">
                    <div>
                        <h1 class="title">Atomic Tasker</h1>
                        <p class="subtitle">Build habits, one task at a time</p>
                    </div>
                </div>
            </div>
            <!-- Sync Status -->
            <div id="syncStatus" class="sync-status" style="display: none;">
                <span id="syncStatusText" class="sync-status-text">Synced âœ“</span>
                <button id="syncNowBtn" class="sync-now-btn" title="Sync with Google Tasks">â†» Sync</button>
            </div>
        </header>

        <!-- Category Filter Section -->
        <div class="filter-section">
            <div class="filter-row">
                <label for="categoryFilter" class="filter-label">Filter by Category:</label>
                <select id="categoryFilter" class="category-filter">
                    <option value="">All Tasks</option>
                    <!-- Category options dynamically added here -->
                </select>
            </div>
            <div class="filter-row">
                <label for="taskSearchInput" class="filter-label">Search Tasks:</label>
                <input
                    type="text"
                    id="taskSearchInput"
                    class="task-search"
                    placeholder="Search by title, notes, link..."
                    maxlength="100"
                >
            </div>
            <div class="filter-row">
                <label for="sortSelect" class="filter-label">Sort by:</label>
                <select id="sortSelect" class="category-filter">
                    <option value="dueDate">Due date</option>
                    <option value="priority">Priority</option>
                    <option value="createdAt">Newest</option>
                    <option value="title">Title</option>
                </select>
            </div>
        </div>

        <!-- Add Task Section -->
        <div class="add-task-section">
            <input 
                type="text" 
                id="taskInput" 
                class="task-input" 
                placeholder="Add a new task..."
                maxlength="100"
            >
            <div class="inline-inputs">
                <select id="categorySelect" class="category-select">
                    <option value="">No Category</option>
                    <!-- Category options dynamically added here -->
                </select>
                <select id="prioritySelect" class="category-select">
                    <option value="medium">Priority: Medium</option>
                    <option value="high">Priority: High</option>
                    <option value="low">Priority: Low</option>
                </select>
            </div>
            <div class="button-group">
                <button id="quickAddBtn" class="add-btn">+ Quick Add</button>
                <button id="advancedAddBtn" class="add-btn-secondary">âš™ï¸ Advanced</button>
            </div>
        </div>

        <!-- Category Management Section -->
        <div class="category-management">
            <details class="category-details">
                <summary class="category-summary">ğŸ“‚ Manage Categories</summary>
                <div class="category-input-group">
                    <div class="emoji-picker-container">
                        <button id="emojiPickerBtn" class="emoji-picker-btn">ğŸ˜€</button>
                        <div id="emojiPicker" class="emoji-picker-menu" style="display: none;">
                            <div class="emoji-picker-grid">
                                ğŸ’» ğŸ“š ğŸ§˜ ğŸ’ª ğŸ¯ ğŸ† â­ ğŸ”¥ ğŸ¨ ğŸµ ğŸƒ ğŸ ğŸ˜´ ğŸ§  ğŸ“
                            </div>
                        </div>
                    </div>
                    <input 
                        type="text" 
                        id="emojiInput" 
                        class="emoji-input" 
                        placeholder="Selected emoji"
                        maxlength="2"
                        readonly
                    >
                    <input 
                        type="text" 
                        id="categoryInput" 
                        class="category-input" 
                        placeholder="Category name"
                        maxlength="50"
                    >
                    <button id="addCategoryBtn" class="add-category-btn">+ Category</button>
                </div>
                <div id="categoriesList" class="categories-list">
                    <!-- Categories dynamically added here -->
                </div>
            </details>
        </div>

        <!-- Tasks List Section -->
        <div class="tasks-container">
            <div class="tasks-header-row">
                <h2 class="tasks-header">ğŸ“‹ Your Tasks</h2>
                <span id="tasksCount" class="count-badge">0</span>
            </div>
            <div id="tasksList" class="tasks-list">
                <!-- Tasks dynamically added here -->
            </div>
            <div id="emptyState" class="empty-state">
                <p>No tasks yet. Start your atomic journey! ğŸš€</p>
            </div>
        </div>

        <!-- Completed Tasks Section -->
        <div class="completed-tasks-container">
            <details class="completed-tasks-details">
                <summary class="completed-tasks-summary">
                    âœ… Completed Tasks
                    <span id="completedCount" class="count-badge">0</span>
                </summary>
                <div class="completed-actions">
                    <button id="clearCompletedBtn" class="btn-secondary btn-small">Clear Completed</button>
                </div>
                <div id="completedTasksList" class="completed-tasks-list">
                    <!-- Completed tasks dynamically added here -->
                </div>
                <div id="completedEmptyState" class="completed-empty-state">
                    <p>No completed tasks yet. Complete your first task! ğŸ‰</p>
                </div>
            </details>
        </div>

        <!-- Motivational Quote Section -->
        <div class="motivation-section">
            <div class="quote-card">
                <p id="motivationQuote" class="quote-text">Loading your daily wisdom...</p>
                <button id="newQuoteBtn" class="new-quote-btn">New Quote</button>
            </div>
        </div>
    </div>

    <!-- Edit Task Modal -->
    <div id="editModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Edit Task</h3>
                <button class="modal-close" id="modalCloseBtn">&times;</button>
            </div>
            <div class="modal-body">
                <input 
                    type="text" 
                    id="editTaskInput" 
                    class="task-input" 
                    placeholder="Task name"
                    maxlength="100"
                >
                <div class="inline-inputs">
                    <select id="editCategorySelect" class="category-select">
                        <option value="">No Category</option>
                    </select>
                    <select id="editPrioritySelect" class="category-select">
                        <option value="medium">Priority: Medium</option>
                        <option value="high">Priority: High</option>
                        <option value="low">Priority: Low</option>
                    </select>
                </div>
                <textarea 
                    id="editTaskNotes" 
                    class="task-textarea" 
                    placeholder="Add detailed notes..."
                    maxlength="1000"
                    rows="4"
                ></textarea>
                <input 
                    type="text" 
                    id="editTaskLink" 
                    class="task-input" 
                    placeholder="Attach a link (optional)..."
                >
                <input 
                    type="date" 
                    id="editTaskDate" 
                    class="task-input"
                >
            </div>
            <div class="modal-footer">
                <button id="cancelEditBtn" class="btn-secondary">Cancel</button>
                <button id="saveEditBtn" class="btn-primary">Save Changes</button>
            </div>
        </div>
    </div>

    <!-- Advanced Add Task Modal -->
    <div id="advancedAddModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add Task - Advanced</h3>
                <button class="modal-close" id="advancedModalCloseBtn">&times;</button>
            </div>
            <div class="modal-body">
                <input 
                    type="text" 
                    id="advTaskInput" 
                    class="task-input" 
                    placeholder="Task name"
                    maxlength="100"
                >
                <div class="inline-inputs">
                    <select id="advCategorySelect" class="category-select">
                        <option value="">No Category</option>
                    </select>
                    <select id="advPrioritySelect" class="category-select">
                        <option value="medium">Priority: Medium</option>
                        <option value="high">Priority: High</option>
                        <option value="low">Priority: Low</option>
                    </select>
                </div>
                <textarea 
                    id="advTaskNotes" 
                    class="task-textarea" 
                    placeholder="Add detailed notes..."
                    maxlength="1000"
                    rows="4"
                ></textarea>
                <input 
                    type="text" 
                    id="advTaskLink" 
                    class="task-input" 
                    placeholder="Attach a link (optional)..."
                >
                <label for="advTaskDate" class="date-label">Due Date:</label>
                <input 
                    type="date" 
                    id="advTaskDate" 
                    class="task-input"
                >
            </div>
            <div class="modal-footer">
                <button id="advCancelBtn" class="btn-secondary">Cancel</button>
                <button id="advAddBtn" class="btn-primary">Add Task</button>
            </div>
        </div>
    </div>

    <!-- Edit Category Modal -->
    <div id="editCategoryModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Edit Category</h3>
                <button class="modal-close" id="editCategoryModalCloseBtn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="emoji-picker-container">
                    <button id="editCategoryEmojiPickerBtn" class="emoji-picker-btn">ğŸ˜€</button>
                    <div id="editCategoryEmojiPicker" class="emoji-picker-menu" style="display: none;">
                        <div class="emoji-picker-grid">
                            ğŸ’» ğŸ“š ğŸ§˜ ğŸ’ª ğŸ¯ ğŸ† â­ ğŸ”¥ ğŸ¨ ğŸµ ğŸƒ ğŸ ğŸ˜´ ğŸ§  ğŸ“
                        </div>
                    </div>
                </div>
                <input 
                    type="text" 
                    id="editCategoryEmojiInput" 
                    class="emoji-input" 
                    placeholder="Selected emoji"
                    maxlength="2"
                    readonly
                >
                <input 
                    type="text" 
                    id="editCategoryNameInput" 
                    class="category-input" 
                    placeholder="Category name"
                    maxlength="50"
                >
            </div>
            <div class="modal-footer">
                <button id="editCategoryCancelBtn" class="btn-secondary">Cancel</button>
                <button id="saveEditCategoryBtn" class="btn-primary">Save Changes</button>
            </div>
        </div>
    </div>

    <!-- Confirmation Modal -->
    <div id="confirmModal" class="modal" style="display: none;">
        <div class="modal-content confirm-content">
            <div class="modal-body confirm-body">
                <div class="confirm-icon">âš ï¸</div>
                <h3 id="confirmTitle" class="confirm-title">Confirm Action</h3>
                <p id="confirmMessage" class="confirm-message">Are you sure?</p>
            </div>
            <div class="modal-footer confirm-footer">
                <button id="confirmCancelBtn" class="btn-secondary">Cancel</button>
                <button id="confirmOkBtn" class="btn-danger">Delete</button>
            </div>
        </div>
    </div>

    <!-- Utility Scripts -->
    <script src="utils.js"></script>
    <script src="modal.js"></script>
    
    <!-- Feature Scripts -->
    <script src="chrome-sync.js"></script>
    <script src="google-sync.js"></script>
    <script src="popup.js"></script>
</body>
</html>
